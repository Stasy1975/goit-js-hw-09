{"mappings":"oeAKA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAUC,SAASC,cAAc,kBAGjCC,GAFUH,EAAQE,cAAc,uBACxBF,EAAQE,cAAc,4BACtBF,EAAQE,cAAc,0BAEpC,IAAIE,EAA2BC,aAAaC,QAAQ,uBACpDF,EAA2BA,EACvBG,KAAKC,MAAMJ,GACX,GAEJD,EAAMM,iBAAiB,QAASC,GAChCV,EAAQS,iBAAiB,SAAS,EAAAX,EAAAa,UAASC,EAAU,MAErD,MAAMF,EAAWG,IACfA,EAAEC,iBACFT,aAAaU,WAAW,uBACxBf,EAAQgB,SAGJJ,EAAWC,IACfT,EAAyBS,EAAEI,OAAOC,MAAQL,EAAEI,OAAOE,MAEnDd,aAAae,QACX,sBACAb,KAAKc,UAAUjB","sources":["src/js/03-feedback.js"],"sourcesContent":["// Отслеживай на форме событие input, и каждый раз записывай в локальное хранилище объект с полями email и message, в которых сохраняй текущие значения полей формы. Пусть ключом для хранилища будет строка \"feedback-form-state\".\n// При загрузке страницы проверяй состояние хранилища, и если там есть сохраненные данные, заполняй ими поля формы. В противном случае поля должны быть пустыми.\n// При сабмите формы очищай хранилище и поля формы, а также выводи объект с полями email, message и текущими их значениями в консоль.\n// Сделай так, чтобы хранилище обновлялось не чаще чем раз в 500 миллисекунд. Для этого добавь в проект и используй библиотеку lodash.throttle.\n\nimport { throttle } from 'lodash';\n\nconst formRef = document.querySelector('.feedback-form');\nconst emailEl = formRef.querySelector('input[name=\"email\"]');\nconst msgEl = formRef.querySelector('textarea[name=\"message\"]');\nconst btnEl = formRef.querySelector('button[type=\"submit\"]');\n\nlet currentFeedbackFormState = localStorage.getItem('feedback-form-state');\ncurrentFeedbackFormState = currentFeedbackFormState\n  ? JSON.parse(currentFeedbackFormState)\n  : {};\n\nbtnEl.addEventListener('click', onSubmit);\nformRef.addEventListener('input', throttle(fillForm, 500));\n\nconst onSubmit = e => {\n  e.preventDefault();\n  localStorage.removeItem('feedback-form-state');\n  formRef.reset();\n};\n\nconst fillForm = e => {\n  currentFeedbackFormState[e.target.name] = e.target.value;\n\n  localStorage.setItem(\n    'feedback-form-state',\n    JSON.stringify(currentFeedbackFormState)\n  );\n};\n"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$formRef","document","querySelector","$945622fd0f572e60$var$btnEl","$945622fd0f572e60$var$currentFeedbackFormState","localStorage","getItem","JSON","parse","addEventListener","$945622fd0f572e60$var$onSubmit","throttle","$945622fd0f572e60$var$fillForm","e","preventDefault","removeItem","reset","target","name","value","setItem","stringify"],"version":3,"file":"03-feedback.d8915cab.js.map"}